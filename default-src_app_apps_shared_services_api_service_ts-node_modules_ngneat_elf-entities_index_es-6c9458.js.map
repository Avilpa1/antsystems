{"version":3,"file":"default-src_app_apps_shared_services_api_service_ts-node_modules_ngneat_elf-entities_index_es-6c9458.js","mappings":"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","sources":["./src/app/apps/shared/services/api.service.ts","./node_modules/@ngneat/elf-entities/index.esm.js","./node_modules/@ngneat/elf-requests/index.esm.js"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '../../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n    baseUrl: string = '';\r\n    constructor(private http: HttpClient) { \r\n        this.baseUrl = environment.apiUrl;\r\n    }\r\n\r\n    get(path: string) {\r\n        // return this.http.get(`${this.baseUrl}/${path}`)\r\n        return this.http.get(`${path}`)\r\n\r\n    }\r\n}\r\n","import { isFunction as isFunction$1, capitalize, coerceArray, isDev, select, isUndefined, distinctUntilArrayItemChanged, propsFactory, propsArrayFactory } from '@ngneat/elf';\n\nfunction buildEntities(entities, idKey) {\n  const asObject = {};\n  const ids = [];\n  for (const entity of entities) {\n    const id = entity[idKey];\n    ids.push(id);\n    asObject[id] = entity;\n  }\n  return {\n    ids,\n    asObject\n  };\n}\nfunction findIdsByPredicate(state, ref, predicate) {\n  const {\n    idsKey,\n    entitiesKey\n  } = ref;\n  const entities = state[entitiesKey];\n  return state[idsKey].filter(id => predicate(entities[id]));\n}\nfunction findEntityByPredicate(state, ref, predicate) {\n  const {\n    idsKey,\n    entitiesKey\n  } = ref;\n  const entities = state[entitiesKey];\n  const id = state[idsKey].find(id => {\n    return predicate(entities[id]);\n  });\n  return entities[id];\n}\nfunction checkPluck(entity, pluck) {\n  if (entity && pluck) {\n    return isFunction$1(pluck) ? pluck(entity) : entity[pluck];\n  } else {\n    return entity;\n  }\n}\n\nfunction getIdKey(context, ref) {\n  return context.config[ref.idKeyRef];\n}\n\n// This will return { entitiesKey: \"entities\", idsKey: \"ids\" }\n\n// This will return { entities: any, ids: any }\n\nclass EntitiesRef {\n  constructor(config) {\n    this.entitiesKey = void 0;\n    this.idsKey = void 0;\n    this.idKeyRef = 'idKey';\n    this.entitiesKey = config.entitiesKey;\n    this.idsKey = config.idsKey;\n    this.idKeyRef = config.idKeyRef;\n  }\n}\nfunction entitiesPropsFactory(feature) {\n  const idKeyRef = feature ? `idKey${capitalize(feature)}` : 'idKey';\n  const ref = new EntitiesRef({\n    entitiesKey: feature ? `${feature}Entities` : 'entities',\n    idsKey: feature ? `${feature}Ids` : 'ids',\n    idKeyRef: idKeyRef\n  });\n  function propsFactory(config) {\n    let entities = {};\n    let ids = [];\n    const idKey = config?.idKey || 'id';\n    if (config?.initialValue) {\n      ({\n        ids,\n        asObject: entities\n      } = buildEntities(config.initialValue, idKey));\n    }\n    return {\n      props: {\n        [ref.entitiesKey]: entities,\n        [ref.idsKey]: ids\n      },\n      config: {\n        [idKeyRef]: idKey\n      }\n    };\n  }\n  return {\n    [`${feature}EntitiesRef`]: ref,\n    [`with${capitalize(feature)}Entities`]: propsFactory\n  };\n}\nconst {\n  withEntities,\n  EntitiesRef: defaultEntitiesRef\n} = entitiesPropsFactory('');\nconst {\n  UIEntitiesRef,\n  withUIEntities\n} = entitiesPropsFactory('UI');\n\n/**\n *\n * Remove entities\n *\n * @example\n *\n * store.update(deleteEntities(1))\n *\n * store.update(deleteEntities([1, 2, 3])\n *\n */\nfunction deleteEntities(ids, options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        idsKey,\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    const idsToRemove = coerceArray(ids);\n    const newEntities = {\n      ...state[entitiesKey]\n    };\n    const newIds = state[idsKey].filter(id => !idsToRemove.includes(id));\n    for (const id of idsToRemove) {\n      Reflect.deleteProperty(newEntities, id);\n    }\n    return {\n      ...state,\n      [entitiesKey]: newEntities,\n      [idsKey]: newIds\n    };\n  };\n}\n\n/**\n *\n * Remove entities by predicate\n *\n * @example\n *\n * store.update(deleteEntitiesByPredicate(entity => entity.count === 0))\n *\n */\nfunction deleteEntitiesByPredicate(predicate, options = {}) {\n  return function reducer(state, context) {\n    const ids = findIdsByPredicate(state, options.ref || defaultEntitiesRef, predicate);\n    if (ids.length) {\n      return deleteEntities(ids, options)(state, context);\n    }\n    return state;\n  };\n}\n\n/**\n *\n * Remove all entities\n *\n * @example\n *\n * store.update(deleteAllEntities())\n *\n */\nfunction deleteAllEntities(options = {}) {\n  return function reducer(state) {\n    const {\n      ref: {\n        idsKey,\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    return {\n      ...state,\n      [entitiesKey]: {},\n      [idsKey]: []\n    };\n  };\n}\n\n/**\n *\n * Add entities\n *\n * @example\n *\n * store.update(addEntities(entity))\n *\n * store.update(addEntities([entity, entity]))\n *\n * store.update(addEntities([entity, entity]), { prepend: true })\n *\n */\nfunction addEntities(entities, options = {}) {\n  return function (state, context) {\n    const {\n      prepend = false,\n      ref = defaultEntitiesRef\n    } = options;\n    const {\n      entitiesKey,\n      idsKey\n    } = ref;\n    const idKey = getIdKey(context, ref);\n    const asArray = coerceArray(entities);\n    if (!asArray.length) return state;\n    if (isDev()) {\n      throwIfEntityExists(asArray, idKey, state, entitiesKey);\n      throwIfDuplicateIdKey(asArray, idKey);\n    }\n    const {\n      ids,\n      asObject\n    } = buildEntities(asArray, idKey);\n    return {\n      ...state,\n      [entitiesKey]: {\n        ...state[entitiesKey],\n        ...asObject\n      },\n      [idsKey]: prepend ? [...ids, ...state[idsKey]] : [...state[idsKey], ...ids]\n    };\n  };\n}\n\n/**\n *\n * Add entities using fifo\n *\n * @example\n *\n *\n * store.update(addEntitiesFifo([entity, entity]), { limit: 3 })\n *\n */\nfunction addEntitiesFifo(entities, options) {\n  return function (state, context) {\n    const {\n      ref = defaultEntitiesRef,\n      limit\n    } = options;\n    const {\n      entitiesKey,\n      idsKey\n    } = ref;\n    const currentIds = state[idsKey];\n    let normalizedEntities = coerceArray(entities);\n    let newState = state;\n    if (normalizedEntities.length > limit) {\n      // Remove new entities that pass the limit\n      normalizedEntities = normalizedEntities.slice(normalizedEntities.length - limit);\n    }\n    const total = currentIds.length + normalizedEntities.length;\n\n    // Remove exiting entities that passes the limit\n    if (total > limit) {\n      const idsRemove = currentIds.slice(0, total - limit);\n      newState = deleteEntities(idsRemove)(state, context);\n    }\n    const {\n      ids,\n      asObject\n    } = buildEntities(normalizedEntities, getIdKey(context, ref));\n    return {\n      ...state,\n      [entitiesKey]: {\n        ...newState[entitiesKey],\n        ...asObject\n      },\n      [idsKey]: [...newState[idsKey], ...ids]\n    };\n  };\n}\nfunction throwIfEntityExists(entities, idKey, state, entitiesKey) {\n  entities.forEach(entity => {\n    const id = entity[idKey];\n    if (state[entitiesKey][id]) {\n      throw Error(`Entity already exists. ${idKey} ${id}`);\n    }\n  });\n}\nfunction throwIfDuplicateIdKey(entities, idKey) {\n  const check = new Set();\n  entities.forEach(entity => {\n    const id = entity[idKey];\n    if (check.has(id)) {\n      throw Error(`Duplicate entity id provided. ${idKey} ${id}`);\n    }\n    check.add(id);\n  });\n}\n\n/**\n *\n * Set entities\n *\n * @example\n *\n * store.update(setEntities([entity, entity]))\n *\n */\nfunction setEntities(entities, options = {}) {\n  return function (state, context) {\n    const {\n      ref = defaultEntitiesRef\n    } = options;\n    const {\n      entitiesKey,\n      idsKey\n    } = ref;\n    const {\n      ids,\n      asObject\n    } = buildEntities(entities, getIdKey(context, ref));\n    return {\n      ...state,\n      [entitiesKey]: asObject,\n      [idsKey]: ids\n    };\n  };\n}\nfunction setEntitiesMap(entities, options = {}) {\n  return setEntities(Object.values(entities), options);\n}\n\n/**\n *\n * Get the entities collection\n *\n * @example\n *\n * store.query(getAllEntities())\n *\n */\nfunction getAllEntities(options = {}) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef\n  } = options;\n  return function (state) {\n    return state[idsKey].map(id => state[entitiesKey][id]);\n  };\n}\n\n/**\n *\n * Get the entities and apply filter/map\n *\n * @example\n *\n * store.query(getAllEntitiesApply())\n *\n */\nfunction getAllEntitiesApply(options) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef,\n    filterEntity = () => true,\n    mapEntity = e => e\n  } = options;\n  return function (state) {\n    const result = [];\n    for (const id of state[idsKey]) {\n      const entity = state[entitiesKey][id];\n      if (filterEntity(entity)) {\n        result.push(mapEntity(entity));\n      }\n    }\n    return result;\n  };\n}\n\n/**\n *\n * Get an entity\n *\n * @example\n *\n * store.query(getEntity(1))\n *\n */\nfunction getEntity$1(id, options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    return state[entitiesKey][id];\n  };\n}\n\n/**\n *\n * Get first entity by predicate\n *\n * @example\n *\n * store.query(getEntityByPredicate(({ title }) => title === 'Elf'))\n *\n */\nfunction getEntityByPredicate(predicate, options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        entitiesKey,\n        idsKey\n      } = defaultEntitiesRef\n    } = options;\n    const entities = state[entitiesKey];\n    const id = state[idsKey].find(id => {\n      return predicate(entities[id]);\n    });\n    return entities[id];\n  };\n}\n\n/**\n *\n * Check whether the entity exist\n *\n * @example\n *\n * store.query(hasEntity(1))\n *\n */\nfunction hasEntity(id, options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    return Reflect.has(state[entitiesKey], id);\n  };\n}\n\n/**\n *\n * Get the entities ids\n *\n * @example\n *\n * store.query(getEntitiesIds())\n *\n */\nfunction getEntitiesIds(options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        idsKey\n      } = defaultEntitiesRef\n    } = options;\n    return state[idsKey];\n  };\n}\n\nfunction toModel(updater, entity) {\n  if (isFunction$1(updater)) {\n    return updater(entity);\n  }\n  return {\n    ...entity,\n    ...updater\n  };\n}\n\n/**\n *\n * Update entities\n *\n * @example\n *\n * store.update(updateEntities(id, { name }))\n * store.update(updateEntities(id, entity => ({ ...entity, name })))\n * store.update(updateEntities([id, id, id], { open: true }))\n *\n */\nfunction updateEntities(ids, updater, options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    const updatedEntities = {};\n    for (const id of coerceArray(ids)) {\n      if (hasEntity(id, options)(state)) {\n        updatedEntities[id] = toModel(updater, getEntity$1(id, options)(state));\n      }\n    }\n    return {\n      ...state,\n      [entitiesKey]: {\n        ...state[entitiesKey],\n        ...updatedEntities\n      }\n    };\n  };\n}\n\n/**\n *\n * Update entities by predicate\n *\n * @example\n *\n * store.update(updateEntitiesByPredicate(entity => entity.count === 0))\n *\n */\nfunction updateEntitiesByPredicate(predicate, updater, options = {}) {\n  return function (state, context) {\n    const ids = findIdsByPredicate(state, options.ref || defaultEntitiesRef, predicate);\n    if (ids.length) {\n      return updateEntities(ids, updater, options)(state, context);\n    }\n    return state;\n  };\n}\n\n/**\n *\n * Update all entities\n *\n * @example\n *\n * store.update(updateAllEntities({ name }))\n * store.update(updateAllEntities(entity => ({ ...entity, name })))\n *\n */\nfunction updateAllEntities(updater, options = {}) {\n  return function (state, context) {\n    const {\n      ref: {\n        idsKey\n      } = defaultEntitiesRef\n    } = options;\n    return updateEntities(state[idsKey], updater, options)(state, context);\n  };\n}\n/**\n *\n * Update entities that exists, add those who don't\n *\n * @example\n *\n */\nfunction upsertEntitiesById(ids, {\n  updater,\n  creator,\n  ...options\n}) {\n  return function (state, context) {\n    const updatedEntitiesIds = [];\n    const newEntities = [];\n    const asArray = coerceArray(ids);\n    if (!asArray.length) return state;\n    for (const id of asArray) {\n      if (hasEntity(id, options)(state)) {\n        updatedEntitiesIds.push(id);\n      } else {\n        let newEntity = creator(id);\n        if (options.mergeUpdaterWithCreator) {\n          newEntity = toModel(updater, newEntity);\n        }\n        newEntities.push(newEntity);\n      }\n    }\n    const newState = updateEntities(updatedEntitiesIds, updater, options)(state, context);\n    return addEntities(newEntities, options)(newState, context);\n  };\n}\n\n/**\n *\n * Merge entities that exists, add those who don't\n * Make sure all entities have an id\n *\n * @example\n *\n * // single entity\n * store.update(upsertEntities({ id: 1, completed: true }))\n *\n * // or multiple entities\n * store.update(upsertEntities([{ id: 1, completed: true }, { id: 2, completed: true }]))\n *\n * // or using a custom ref\n * store.update(upsertEntities([{ id: 1, open: true }], { ref: UIEntitiesRef }))\n *\n */\nfunction upsertEntities(entities, options = {}) {\n  return function (state, context) {\n    const {\n      prepend = false,\n      ref = defaultEntitiesRef\n    } = options;\n    const {\n      entitiesKey,\n      idsKey\n    } = ref;\n    const idKey = getIdKey(context, ref);\n    const asObject = {};\n    const ids = [];\n    const entitiesArray = coerceArray(entities);\n    if (!entitiesArray.length) {\n      return state;\n    }\n    for (const entity of entitiesArray) {\n      const id = entity[idKey];\n      // if entity exists, merge update, else add\n      if (hasEntity(id, options)(state)) {\n        asObject[id] = {\n          ...state[entitiesKey][id],\n          ...entity\n        };\n      } else {\n        ids.push(id);\n        asObject[id] = entity;\n      }\n    }\n    const updatedIds = !ids.length ? {} : {\n      [idsKey]: prepend ? [...ids, ...state[idsKey]] : [...state[idsKey], ...ids]\n    };\n    return {\n      ...state,\n      ...updatedIds,\n      [entitiesKey]: {\n        ...state[entitiesKey],\n        ...asObject\n      }\n    };\n  };\n}\n\n/**\n * Update entities ids\n *\n * @example\n *\n * // Update a single entity id\n * store.update(updateEntitiesIds(1, 2));\n *\n * // Update multiple entities ids\n * store.update(updateEntitiesIds([1, 2], [10, 20]));\n *\n * // Update entity id using a custom ref\n * store.update(updateEntitiesIds(1, 2, { ref: UIEntitiesRef }));\n *\n */\nfunction updateEntitiesIds(oldId, newId, options = {}) {\n  return function (state, context) {\n    const oldIds = coerceArray(oldId);\n    const newIds = coerceArray(newId);\n    if (oldIds.length !== newIds.length) {\n      throw new Error('The number of old and new ids must be equal');\n    }\n    const {\n      ref = defaultEntitiesRef\n    } = options;\n    const idProp = getIdKey(context, ref);\n    const updatedEntities = {\n      ...state[ref.entitiesKey]\n    };\n    for (let i = 0; i < oldIds.length; i++) {\n      const oldVal = oldIds[i];\n      const newVal = newIds[i];\n      if (state[ref.entitiesKey][newVal]) {\n        throw new Error(`Updating id \"${oldVal}\". The new id \"${newVal}\" already exists`);\n      }\n      const oldEntity = state[ref.entitiesKey][oldVal];\n      const updated = {\n        ...oldEntity,\n        [idProp]: newVal\n      };\n      updatedEntities[newVal] = updated;\n      Reflect.deleteProperty(updatedEntities, oldVal);\n    }\n    const updatedStateIds = state[ref.idsKey].slice();\n    let processedIds = 0;\n    for (let i = 0; i < updatedStateIds.length; i++) {\n      const currentId = updatedStateIds[i];\n      for (let j = 0; j < oldIds.length; j++) {\n        const oldVal = oldIds[j];\n        const newVal = newIds[j];\n        if (currentId === oldVal) {\n          updatedStateIds[i] = newVal;\n          processedIds++;\n          break;\n        }\n      }\n      if (processedIds === oldIds.length) {\n        break;\n      }\n    }\n    return {\n      ...state,\n      [ref.entitiesKey]: updatedEntities,\n      [ref.idsKey]: updatedStateIds\n    };\n  };\n}\n\n/**\n *\n * Move entity\n *\n * @example\n *\n * store.update(moveEntity({ fromIndex: 2, toIndex: 3}))\n *\n */\nfunction moveEntity(options) {\n  return function (state) {\n    const {\n      fromIndex,\n      toIndex,\n      ref: {\n        idsKey,\n        entitiesKey\n      } = defaultEntitiesRef\n    } = options;\n    const ids = state[idsKey].slice();\n    ids.splice(toIndex < 0 ? ids.length + toIndex : toIndex, 0, ids.splice(fromIndex, 1)[0]);\n    return {\n      ...state,\n      [entitiesKey]: {\n        ...state[entitiesKey]\n      },\n      [idsKey]: ids\n    };\n  };\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\n\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\nfunction createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n\nvar UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n\nfunction arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nSubscription.EMPTY;\nfunction isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n\nvar config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n\nvar timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n\nfunction reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n\nfunction noop() { }\n\nvar COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nfunction errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nfunction nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nfunction createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n\nvar context = null;\nfunction errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\n\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nfunction handleUnhandledError(error) {\n    {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nvar EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n\nvar observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n\nfunction identity(x) {\n    return x;\n}\n\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n\nfunction hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nfunction operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n\nfunction createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\n\nvar isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n\nfunction isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n\nfunction isInteropObservable(input) {\n    return isFunction(input[observable]);\n}\n\nfunction isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n\nfunction createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\nfunction getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nvar iterator = getSymbolIterator();\n\nfunction isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[iterator]);\n}\n\nfunction readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nfunction isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n\nfunction innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nfunction fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nfunction fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nfunction fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nfunction fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nfunction fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n\nfunction map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n\nfunction distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n\nfunction switchMap(project, resultSelector) {\n    return operate(function (source, subscriber) {\n        var innerSubscriber = null;\n        var index = 0;\n        var isComplete = false;\n        var checkComplete = function () { return isComplete && !innerSubscriber && subscriber.complete(); };\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            var innerIndex = 0;\n            var outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, function (innerValue) { return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue); }, function () {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, function () {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n\nfunction untilEntitiesChanges(key) {\n  return distinctUntilChanged((prev, current) => {\n    return prev[key] === current[key];\n  });\n}\n\n/**\n *\n * Observe entities\n *\n * @example\n *\n * store.pipe(selectAllEntities())\n *\n * store.pipe(selectAllEntities({ ref: UIEntitiesRef }))\n *\n */\nfunction selectAllEntities(options = {}) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef\n  } = options;\n  return pipe(untilEntitiesChanges(entitiesKey), map(state => state[idsKey].map(id => state[entitiesKey][id])));\n}\n\n/**\n *\n * Observe entities object\n *\n * @example\n *\n * store.pipe(selectEntities())\n *\n * store.pipe(selectEntities({ ref: UIEntitiesRef }))\n *\n */\nfunction selectEntities(options = {}) {\n  const {\n    ref: {\n      entitiesKey\n    } = defaultEntitiesRef\n  } = options;\n  return select(state => state[entitiesKey]);\n}\n\n/**\n *\n * Observe entities and apply filter/map\n *\n * @example\n *\n * store.pipe(selectAllEntitiesApply({\n *   map: (entity) => new Todo(entity),\n *   filter: entity => entity.completed\n * }))\n *\n *\n */\nfunction selectAllEntitiesApply(options) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef,\n    filterEntity = () => true,\n    mapEntity = e => e\n  } = options;\n  return pipe(untilEntitiesChanges(entitiesKey), map(state => {\n    const result = [];\n    for (const id of state[idsKey]) {\n      const entity = state[entitiesKey][id];\n      if (filterEntity(entity)) {\n        result.push(mapEntity(entity));\n      }\n    }\n    return result;\n  }));\n}\n\n/**\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntity(id, { pluck: 'title' })\n *\n * store.pipe(selectEntity(id, { ref: UIEntitiesRef })\n *\n */\n\n/**\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntity(id, { pluck: e => e.title })\n *\n * store.pipe(selectEntity(id, { ref: UIEntitiesRef })\n *\n */\n\n/**\n *\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntity(id))\n *\n * store.pipe(selectEntity(id, { ref: UIEntitiesRef })\n *\n */\n\nfunction selectEntity(id, options = {}) {\n  const {\n    ref: {\n      entitiesKey\n    } = defaultEntitiesRef,\n    pluck\n  } = options;\n  return pipe(untilEntitiesChanges(entitiesKey), select(state => getEntity(state[entitiesKey], id, pluck)));\n}\nfunction getEntity(entities, id, pluck) {\n  const entity = entities[id];\n  if (isUndefined(entity)) {\n    return undefined;\n  }\n  if (!pluck) {\n    return entity;\n  }\n  return checkPluck(entity, pluck);\n}\n\n/**\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntityByPredicate(entity => entity.title, { pluck: entity => entity.title })\n *\n */\n\n/**\n *\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntityByPredicate(entity => entity.title, { pluck: 'title' })\n *\n */\n\n/**\n *\n * Observe an entity\n *\n * @example\n *\n * store.pipe(selectEntityByPredicate(entity => entity.title, { ref: UIEntitiesRef })\n *\n */\n\nfunction selectEntityByPredicate(predicate, options) {\n  const {\n    ref = defaultEntitiesRef,\n    pluck,\n    idKey = 'id'\n  } = options || {};\n  const {\n    entitiesKey\n  } = ref;\n  let id;\n  return pipe(select(state => {\n    if (isUndefined(id)) {\n      const entity = findEntityByPredicate(state, ref, predicate);\n      id = entity && entity[idKey];\n    }\n    return state[entitiesKey][id];\n  }), map(entity => entity ? checkPluck(entity, pluck) : undefined), distinctUntilChanged());\n}\n\n/**\n *\n * Observe the first entity\n *\n * @example\n *\n * store.pipe(selectFirst())\n *\n */\nfunction selectFirst(options = {}) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef\n  } = options;\n  return select(state => state[entitiesKey][state[idsKey][0]]);\n}\n\n/**\n *\n * Observe the last entity\n *\n * @example\n *\n * store.pipe(selectLast())\n *\n */\nfunction selectLast(options = {}) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef\n  } = options;\n  return select(state => state[entitiesKey][state[idsKey][state[idsKey].length - 1]]);\n}\n\n/**\n * Observe multiple entities\n *\n * @example\n *\n * store.pipe(selectMany([1,2,3], { pluck: 'title' })\n *\n */\n\n/**\n * Observe multiple entities\n *\n * @example\n *\n * store.pipe(selectMany([1,2,3], { pluck: e => e.title })\n *\n */\n\n/**\n * Observe multiple entities\n *\n * @example\n *\n * store.pipe(selectMany([1, 2, 3])\n *\n */\n\nfunction selectMany(ids, options = {}) {\n  const {\n    ref: {\n      entitiesKey\n    } = defaultEntitiesRef,\n    pluck\n  } = options;\n  return pipe(select(state => state[entitiesKey]), map(entities => {\n    if (!ids.length) return [];\n    const filtered = [];\n    for (const id of ids) {\n      const entity = getEntity(entities, id, pluck);\n      if (!isUndefined(entity)) filtered.push(entity);\n    }\n    return filtered;\n  }), distinctUntilArrayItemChanged());\n}\nfunction selectManyByPredicate(predicate, options) {\n  const {\n    ref: {\n      entitiesKey,\n      idsKey\n    } = defaultEntitiesRef,\n    pluck\n  } = options || {};\n  return pipe(untilEntitiesChanges(entitiesKey), select(state => {\n    const filteredEntities = [];\n    state[idsKey].forEach((id, index) => {\n      const entity = state[entitiesKey][id];\n      if (predicate(entity, index)) {\n        filteredEntities.push(checkPluck(entity, pluck));\n      }\n    });\n    return filteredEntities;\n  }), distinctUntilArrayItemChanged());\n}\n\n/**\n *\n * Observe the entities collection size\n *\n * @example\n *\n * store.pipe(selectEntitiesCount())\n *\n */\nfunction selectEntitiesCount(options = {}) {\n  const {\n    ref: {\n      idsKey\n    } = defaultEntitiesRef\n  } = options;\n  return select(state => state[idsKey].length);\n}\n\n/**\n *\n * Observe the entities collection size  that pass the predicate\n *\n * @example\n *\n * store.pipe(selectEntitiesCountByPredicate(entity => entity.completed))\n *\n */\nfunction selectEntitiesCountByPredicate(predicate, options = {}) {\n  const ref = options.ref || defaultEntitiesRef;\n  return pipe(untilEntitiesChanges(ref.entitiesKey), map(state => findIdsByPredicate(state, ref, predicate).length), distinctUntilChanged());\n}\n\n/**\n *\n * Return the entities collection size\n *\n * @example\n *\n * store.query(getEntitiesCount())\n *\n */\nfunction getEntitiesCount(options = {}) {\n  return function (state) {\n    const {\n      ref: {\n        idsKey\n      } = defaultEntitiesRef\n    } = options;\n    return state[idsKey].length;\n  };\n}\n\n/**\n *\n * Return the entities collection size that pass the predicate\n *\n * @example\n *\n * store.query(getEntitiesCountByPredicate(entity => entity.completed))\n *\n */\nfunction getEntitiesCountByPredicate(predicate, options = {}) {\n  return function (state) {\n    const ref = options.ref || defaultEntitiesRef;\n    return findIdsByPredicate(state, ref, predicate).length;\n  };\n}\n\nfunction unionEntities(idKey = 'id') {\n  return map(state => {\n    return state.entities.map(entity => {\n      return {\n        ...entity,\n        ...state.UIEntities[entity[idKey]]\n      };\n    });\n  });\n}\n\nfunction unionEntitiesAsMap(idKey = 'id') {\n  return map(state => {\n    return Object.fromEntries(state.entities.map(entity => {\n      return [entity[idKey], {\n        ...entity,\n        ...state.UIEntities[entity[idKey]]\n      }];\n    }));\n  });\n}\n\nconst {\n  selectActiveId,\n  setActiveId,\n  withActiveId,\n  resetActiveId,\n  getActiveId\n} = propsFactory('activeId', {\n  initialValue: undefined\n});\nfunction selectActiveEntity(options = {}) {\n  const {\n    ref = defaultEntitiesRef\n  } = options;\n  return function (source) {\n    return source.pipe(selectActiveId()).pipe(switchMap(id => source.pipe(selectEntity(id, {\n      ref\n    }))));\n  };\n}\nfunction getActiveEntity(options = {}) {\n  const {\n    ref: {\n      entitiesKey\n    } = defaultEntitiesRef\n  } = options;\n  return function (state) {\n    return state[entitiesKey][getActiveId(state)];\n  };\n}\nconst {\n  setActiveIds,\n  resetActiveIds,\n  withActiveIds,\n  selectActiveIds,\n  toggleActiveIds,\n  removeActiveIds,\n  addActiveIds,\n  getActiveIds\n} = propsArrayFactory('activeIds', {\n  initialValue: []\n});\nfunction selectActiveEntities(options = {}) {\n  const {\n    ref = defaultEntitiesRef\n  } = options;\n  return function (source) {\n    return source.pipe(selectActiveIds()).pipe(switchMap(ids => source.pipe(selectMany(ids, {\n      ref\n    }))));\n  };\n}\nfunction getActiveEntities(options = {}) {\n  const {\n    ref: {\n      entitiesKey\n    } = defaultEntitiesRef\n  } = options;\n  return function (state) {\n    const result = [];\n    for (const id of getActiveIds(state)) {\n      const entity = state[entitiesKey][id];\n      if (entity) {\n        result.push(entity);\n      }\n    }\n    return result;\n  };\n}\n\nexport { EntitiesRef, UIEntitiesRef, addActiveIds, addEntities, addEntitiesFifo, deleteAllEntities, deleteEntities, deleteEntitiesByPredicate, entitiesPropsFactory, getActiveEntities, getActiveEntity, getActiveId, getActiveIds, getAllEntities, getAllEntitiesApply, getEntitiesCount, getEntitiesCountByPredicate, getEntitiesIds, getEntity$1 as getEntity, getEntityByPredicate, hasEntity, moveEntity, removeActiveIds, resetActiveId, resetActiveIds, selectActiveEntities, selectActiveEntity, selectActiveId, selectActiveIds, selectAllEntities, selectAllEntitiesApply, selectEntities, selectEntitiesCount, selectEntitiesCountByPredicate, selectEntity, selectEntityByPredicate, selectFirst, selectLast, selectMany, selectManyByPredicate, setActiveId, setActiveIds, setEntities, setEntitiesMap, toggleActiveIds, unionEntities, unionEntitiesAsMap, updateAllEntities, updateEntities, updateEntitiesByPredicate, updateEntitiesIds, upsertEntities, upsertEntitiesById, withActiveId, withActiveIds, withEntities, withUIEntities };\n","import { select, coerceArray } from '@ngneat/elf';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\n\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\n\nfunction createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n\nvar UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n\nfunction arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nvar EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nfunction isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n\nvar config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n\nvar timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n\nfunction reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        {\n            throw err;\n        }\n    });\n}\n\nfunction noop() { }\n\nfunction errorContext(cb) {\n    {\n        cb();\n    }\n}\n\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) ;\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) ;\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) ;\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nfunction handleUnhandledError(error) {\n    {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nvar EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n\nvar observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n\nfunction identity(x) {\n    return x;\n}\n\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nfunction pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n\nfunction hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nfunction operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n\nfunction createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\n\nvar ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\n\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\n\nvar EMPTY = new Observable(function (subscriber) { return subscriber.complete(); });\n\nfunction isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nfunction popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nfunction popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\n\nvar isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n\nfunction isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n\nfunction isInteropObservable(input) {\n    return isFunction(input[observable]);\n}\n\nfunction isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n\nfunction createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n\nfunction getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nvar iterator = getSymbolIterator();\n\nfunction isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[iterator]);\n}\n\nfunction readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nfunction isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n\nfunction innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nfunction fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nfunction fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nfunction fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nfunction fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nfunction fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n\nfunction executeSchedule(parentSubscription, scheduler, work, delay, repeat) {\n    if (delay === void 0) { delay = 0; }\n    if (repeat === void 0) { repeat = false; }\n    var scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return executeSchedule(subscriber, scheduler, function () { return subscriber.next(value); }, delay); }, function () { return executeSchedule(subscriber, scheduler, function () { return subscriber.complete(); }, delay); }, function (err) { return executeSchedule(subscriber, scheduler, function () { return subscriber.error(err); }, delay); }));\n    });\n}\n\nfunction subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        subscriber.add(scheduler.schedule(function () { return source.subscribe(subscriber); }, delay));\n    });\n}\n\nfunction scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n\nfunction schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n\nfunction scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n\nfunction scheduleIterable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var iterator$1;\n        executeSchedule(subscriber, scheduler, function () {\n            iterator$1 = input[iterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                var _a;\n                var value;\n                var done;\n                try {\n                    (_a = iterator$1.next(), value = _a.value, done = _a.done);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return function () { return isFunction(iterator$1 === null || iterator$1 === void 0 ? void 0 : iterator$1.return) && iterator$1.return(); };\n    });\n}\n\nfunction scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        executeSchedule(subscriber, scheduler, function () {\n            var iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                iterator.next().then(function (result) {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n\nfunction scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n\nfunction scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n\nfunction from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n\nfunction of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    return from(args, scheduler);\n}\n\nfunction throwError(errorOrErrorFactory, scheduler) {\n    var errorFactory = isFunction(errorOrErrorFactory) ? errorOrErrorFactory : function () { return errorOrErrorFactory; };\n    var init = function (subscriber) { return subscriber.error(errorFactory()); };\n    return new Observable(scheduler ? function (subscriber) { return scheduler.schedule(init, 0, subscriber); } : init);\n}\n\nfunction map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n\nvar isArray$1 = Array.isArray;\nfunction callOrApply(fn, args) {\n    return isArray$1(args) ? fn.apply(void 0, __spreadArray([], __read(args))) : fn(args);\n}\nfunction mapOneOrManyArgs(fn) {\n    return map(function (args) { return callOrApply(fn, args); });\n}\n\nvar isArray = Array.isArray;\nvar getPrototypeOf = Object.getPrototypeOf, objectProto = Object.prototype, getKeys = Object.keys;\nfunction argsArgArrayOrObject(args) {\n    if (args.length === 1) {\n        var first_1 = args[0];\n        if (isArray(first_1)) {\n            return { args: first_1, keys: null };\n        }\n        if (isPOJO(first_1)) {\n            var keys = getKeys(first_1);\n            return {\n                args: keys.map(function (key) { return first_1[key]; }),\n                keys: keys,\n            };\n        }\n    }\n    return { args: args, keys: null };\n}\nfunction isPOJO(obj) {\n    return obj && typeof obj === 'object' && getPrototypeOf(obj) === objectProto;\n}\n\nfunction createObject(keys, values) {\n    return keys.reduce(function (result, key, i) { return ((result[key] = values[i]), result); }, {});\n}\n\nfunction combineLatest() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var resultSelector = popResultSelector(args);\n    var _a = argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;\n    if (observables.length === 0) {\n        return from([], scheduler);\n    }\n    var result = new Observable(combineLatestInit(observables, scheduler, keys\n        ?\n            function (values) { return createObject(keys, values); }\n        :\n            identity));\n    return resultSelector ? result.pipe(mapOneOrManyArgs(resultSelector)) : result;\n}\nfunction combineLatestInit(observables, scheduler, valueTransform) {\n    if (valueTransform === void 0) { valueTransform = identity; }\n    return function (subscriber) {\n        maybeSchedule(scheduler, function () {\n            var length = observables.length;\n            var values = new Array(length);\n            var active = length;\n            var remainingFirstValues = length;\n            var _loop_1 = function (i) {\n                maybeSchedule(scheduler, function () {\n                    var source = from(observables[i], scheduler);\n                    var hasFirstValue = false;\n                    source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                        values[i] = value;\n                        if (!hasFirstValue) {\n                            hasFirstValue = true;\n                            remainingFirstValues--;\n                        }\n                        if (!remainingFirstValues) {\n                            subscriber.next(valueTransform(values.slice()));\n                        }\n                    }, function () {\n                        if (!--active) {\n                            subscriber.complete();\n                        }\n                    }));\n                }, subscriber);\n            };\n            for (var i = 0; i < length; i++) {\n                _loop_1(i);\n            }\n        }, subscriber);\n    };\n}\nfunction maybeSchedule(scheduler, execute, subscription) {\n    if (scheduler) {\n        executeSchedule(subscription, scheduler, execute);\n    }\n    else {\n        execute();\n    }\n}\n\nfunction defer(observableFactory) {\n    return new Observable(function (subscriber) {\n        innerFrom(observableFactory()).subscribe(subscriber);\n    });\n}\n\nfunction filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n\nfunction take(count) {\n    return count <= 0\n        ?\n            function () { return EMPTY; }\n        : operate(function (source, subscriber) {\n            var seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n\nfunction distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n\nfunction distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\n\nfunction switchMap(project, resultSelector) {\n    return operate(function (source, subscriber) {\n        var innerSubscriber = null;\n        var index = 0;\n        var isComplete = false;\n        var checkComplete = function () { return isComplete && !innerSubscriber && subscriber.complete(); };\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            var innerIndex = 0;\n            var outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = createOperatorSubscriber(subscriber, function (innerValue) { return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue); }, function () {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, function () {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n\nfunction tap(observerOrNext, error, complete) {\n    var tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error: error, complete: complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate(function (source, subscriber) {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            var isUnsub = true;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, function () {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, function (err) {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, function () {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n\nfunction withRequestsCache(initialValue) {\n  return {\n    props: {\n      requestsCache: initialValue ?? {}\n    },\n    config: undefined\n  };\n}\nfunction selectRequestCache(key) {\n  return pipe(distinctUntilKeyChanged('requestsCache'), select(state => getRequestCache(key)(state)));\n}\nfunction updateRequestsCache(requestsOrKeys, value) {\n  let normalized = requestsOrKeys;\n  if (value) {\n    normalized = requestsOrKeys.reduce((acc, key) => {\n      const data = {\n        value: value.value ?? 'full'\n      };\n      if (value.ttl) {\n        data.timestamp = Date.now() + value.ttl;\n      }\n      acc[key] = data;\n      return acc;\n    }, {});\n  }\n  return function (state) {\n    return {\n      ...state,\n      requestsCache: {\n        ...state.requestsCache,\n        ...normalized\n      }\n    };\n  };\n}\nfunction updateRequestCache(key, {\n  ttl,\n  value: v\n} = {}) {\n  const data = {\n    value: v ?? 'full'\n  };\n  if (ttl) {\n    data.timestamp = Date.now() + ttl;\n  }\n  return function (state) {\n    return {\n      ...state,\n      requestsCache: {\n        ...state.requestsCache,\n        [key]: data\n      }\n    };\n  };\n}\nfunction getRequestCache(key) {\n  return function (state) {\n    const cacheValue = state.requestsCache[key] ?? {\n      value: 'none'\n    };\n    if (cacheValue.timestamp && cacheValue.timestamp < Date.now()) {\n      return {\n        value: 'none'\n      };\n    }\n    return cacheValue;\n  };\n}\nfunction selectIsRequestCached(key, options) {\n  return pipe(distinctUntilKeyChanged('requestsCache'), select(state => isRequestCached(key, options)(state)));\n}\nfunction isRequestCached(key, options) {\n  return function (state) {\n    const type = options?.value ?? 'full';\n    return coerceArray(key).some(k => getRequestCache(k)(state).value === type);\n  };\n}\nfunction skipWhileCached(store, key, options) {\n  return function (source) {\n    if (store.query(isRequestCached(key, {\n      value: options?.value\n    }))) {\n      return options?.returnSource ?? EMPTY;\n    }\n    return source;\n  };\n}\nfunction createRequestsCacheOperator(store) {\n  return function (key, options) {\n    return skipWhileCached(store, key, options);\n  };\n}\nfunction clearRequestsCache() {\n  return function (state) {\n    return {\n      ...state,\n      requestsCache: {}\n    };\n  };\n}\n\nfunction withRequestsStatus(initialValue) {\n  return {\n    props: {\n      requestsStatus: initialValue ?? {}\n    },\n    config: undefined\n  };\n}\nfunction updateRequestsStatus(requestsOrKeys, value, error) {\n  let normalized = requestsOrKeys;\n  if (value) {\n    normalized = requestsOrKeys.reduce((acc, key) => {\n      acc[key] = resolveStatus(value, error);\n      return acc;\n    }, {});\n  }\n  return function (state) {\n    return {\n      ...state,\n      requestsStatus: {\n        ...state.requestsStatus,\n        ...normalized\n      }\n    };\n  };\n}\nfunction resolveStatus(value, error) {\n  const newStatus = {\n    value\n  };\n  if (value === 'error') {\n    newStatus.error = error;\n  }\n  return newStatus;\n}\nfunction updateRequestStatus(key, value, error) {\n  return function (state) {\n    return {\n      ...state,\n      requestsStatus: {\n        ...state.requestsStatus,\n        [key]: resolveStatus(value, error)\n      }\n    };\n  };\n}\nfunction getRequestStatus(key) {\n  return function (state) {\n    return state.requestsStatus[key] ?? {\n      value: 'idle'\n    };\n  };\n}\nfunction selectRequestStatus(key, options) {\n  return pipe(distinctUntilKeyChanged('requestsStatus'), select(state => {\n    const base = getRequestStatus(key)(state);\n    if (options?.groupKey) {\n      const parent = getRequestStatus(options.groupKey)(state);\n      return parent.value === 'success' ? parent : base;\n    }\n    return base;\n  }));\n}\nfunction selectIsRequestPending(key) {\n  return pipe(distinctUntilKeyChanged('requestsStatus'), select(state => getRequestStatus(key)(state).value === 'pending'));\n}\nfunction trackRequestStatus(store, key, options) {\n  return function (source) {\n    return defer(() => {\n      if (store.query(getRequestStatus(key)).value !== 'pending') {\n        store.update(updateRequestStatus(key, 'pending'));\n      }\n      return source.pipe(tap({\n        error(error) {\n          store.update(updateRequestStatus(key, 'error', options?.mapError ? options?.mapError(error) : error));\n        }\n      }));\n    });\n  };\n}\nfunction createRequestsStatusOperator(store) {\n  return function (key, options) {\n    return trackRequestStatus(store, key, options);\n  };\n}\nfunction initializeAsPending(keys) {\n  return coerceArray(keys).reduce((acc, key) => {\n    acc[key] = {\n      value: 'pending'\n    };\n    return acc;\n  }, {});\n}\nfunction clearRequestsStatus() {\n  return function (state) {\n    return {\n      ...state,\n      requestsStatus: {}\n    };\n  };\n}\n\nfunction createRequestDataSource(params) {\n  const {\n    data$,\n    store,\n    dataKey,\n    requestStatusOptions,\n    requestKey,\n    idleAsPending = false\n  } = Reflect.has(params, 'requestKey') ? params : {\n    ...params,\n    requestKey: undefined\n  };\n  return {\n    trackRequestStatus: options => trackRequestStatus(store, requestKey ?? options?.key, options),\n    skipWhileCached: options => skipWhileCached(store, requestKey ?? options?.key, options),\n    setSuccess(options) {\n      return updateRequestStatus(requestKey ?? options?.key, 'success');\n    },\n    setCached(options) {\n      return updateRequestCache(requestKey ?? options?.key, options);\n    },\n    data$: options => store.combine({\n      data: data$(requestKey ?? options?.key),\n      status: store.pipe(selectRequestStatus(requestKey ?? options?.key, requestStatusOptions || {}))\n    }).pipe(map(({\n      data,\n      status\n    }) => {\n      return {\n        [dataKey]: data,\n        loading: idleAsPending ? status.value === 'pending' || status.value === 'idle' : status.value === 'pending',\n        error: status.value === 'error' ? status.error : undefined\n      };\n    }), distinctUntilChanged((a, b) => {\n      // if the status is the same, for example, `pending` and `pending`, and the `data` is the same\n      // don't emit a redundant value\n      return a[dataKey] === b[dataKey] && a.loading === b.loading && a.error === b.error;\n    }))\n  };\n}\n\nfunction initialResult() {\n  return {\n    isError: false,\n    isLoading: true,\n    isSuccess: false,\n    status: 'loading',\n    fetchStatus: 'idle',\n    successfulRequestsCount: 0\n  };\n}\nfunction getSource(key, initialValue, map) {\n  const item = map.get(resolveKey(key));\n  if (item) {\n    return item.asObservable();\n  }\n  const newSource = new BehaviorSubject(initialValue);\n  map.set(resolveKey(key), newSource);\n  return newSource.asObservable();\n}\nfunction resolveKey(key) {\n  return JSON.stringify(key);\n}\nconst emitters = new Map();\n\n// @public\nfunction getRequestResult(key, {\n  initialStatus\n} = {}) {\n  let result = initialResult();\n  if (initialStatus === 'idle') {\n    result = {\n      ...result,\n      status: 'idle',\n      isLoading: false\n    };\n  }\n  return getSource(key, result, emitters);\n}\nfunction updateRequestResult(key, newValue) {\n  const result = emitters.get(resolveKey(key));\n  if (result) {\n    let hasChange = false;\n    const currentResult = result.getValue();\n    for (const key of Object.keys(newValue)) {\n      if (currentResult[key] !== newValue[key]) {\n        hasChange = true;\n        break;\n      }\n    }\n    hasChange && result.next({\n      ...currentResult,\n      ...newValue\n    });\n  }\n}\n\n// @public\nfunction clearRequestsResult() {\n  emitters.clear();\n}\n\n// @public\nfunction deleteRequestResult(key) {\n  emitters.delete(resolveKey(key));\n}\n\n// @public\nfunction resetStaleTime(key) {\n  updateRequestResult(key, {\n    staleTime: undefined\n  });\n}\n\n// @public\nfunction joinRequestResult(...[key, options]) {\n  return function (source) {\n    return combineLatest([source, getRequestResult(key, options)]).pipe(map(([data, result]) => {\n      return {\n        ...result,\n        data\n      };\n    }));\n  };\n}\nfunction trackRequestResult(key, options) {\n  return function (source) {\n    return getRequestResult(key).pipe(take(1), switchMap(result => {\n      const stale = options?.staleTime ? (result.staleTime ?? 0) < Date.now() : false;\n      const preventConcurrentRequest = options?.preventConcurrentRequest !== undefined ? options.preventConcurrentRequest : true;\n      const cacheResponseData = options?.cacheResponseData;\n      if (result.isSuccess && !options?.skipCache && !stale) {\n        return of(result.responseData);\n      }\n      if (result.fetchStatus === 'fetching' && preventConcurrentRequest && !options?.skipCache) {\n        return getRequestResult(key).pipe(filter(requestResult => requestResult.fetchStatus === 'idle'), switchMap(requestResult => {\n          if (requestResult.isError) {\n            return throwError(() => requestResult.error);\n          }\n          if (requestResult.isSuccess) {\n            return of(requestResult.responseData);\n          }\n          return EMPTY;\n        }), take(1));\n      }\n      updateRequestResult(key, {\n        isLoading: true,\n        isError: false,\n        isSuccess: false,\n        status: 'loading',\n        fetchStatus: 'fetching'\n      });\n      let sourceData;\n      return source.pipe(tap({\n        error(error) {\n          updateRequestResult(key, {\n            isError: true,\n            isLoading: false,\n            isSuccess: false,\n            status: 'error',\n            fetchStatus: 'idle',\n            errorUpdatedAt: Date.now(),\n            error\n          });\n        },\n        next(data) {\n          sourceData = data;\n        },\n        complete() {\n          const newResult = {\n            isLoading: false,\n            isSuccess: true,\n            isError: false,\n            status: 'success',\n            fetchStatus: 'idle',\n            responseData: cacheResponseData ? sourceData : undefined,\n            dataUpdatedAt: Date.now(),\n            successfulRequestsCount: result.successfulRequestsCount + 1\n          };\n          if (options?.staleTime) {\n            newResult.staleTime = Date.now() + options.staleTime;\n          }\n          updateRequestResult(key, newResult);\n          if (options?.additionalKeys) {\n            const mainKey = resolveKey(key);\n            for (const keys of options.additionalKeys(sourceData)) {\n              emitters.set(resolveKey(keys), emitters.get(mainKey));\n            }\n          }\n        }\n      }));\n    }));\n  };\n}\nfunction filterSuccess() {\n  return filter(result => result.status === 'success');\n}\nfunction filterError() {\n  return filter(result => result.status === 'error');\n}\nfunction mapResultData(mapFn) {\n  return pipe(map(result => {\n    return {\n      ...result,\n      data: result.data != null ? mapFn(result.data) : result.data\n    };\n  }));\n}\n\nexport { clearRequestsCache, clearRequestsResult, clearRequestsStatus, createRequestDataSource, createRequestsCacheOperator, createRequestsStatusOperator, deleteRequestResult, filterError, filterSuccess, getRequestCache, getRequestResult, getRequestStatus, initializeAsPending, isRequestCached, joinRequestResult, mapResultData, resetStaleTime, selectIsRequestCached, selectIsRequestPending, selectRequestCache, selectRequestStatus, trackRequestResult, updateRequestCache, updateRequestStatus, updateRequestsCache, updateRequestsStatus, withRequestsCache, withRequestsStatus };\n"],"names":["environment","ApiService","constructor","http","baseUrl","apiUrl","get","path","_","i0","inject","i1","HttpClient","_2","factory","fac","providedIn","isFunction","isFunction$1","capitalize","coerceArray","isDev","select","isUndefined","distinctUntilArrayItemChanged","propsFactory","propsArrayFactory","buildEntities","entities","idKey","asObject","ids","entity","id","push","findIdsByPredicate","state","ref","predicate","idsKey","entitiesKey","filter","findEntityByPredicate","find","checkPluck","pluck","getIdKey","context","config","idKeyRef","EntitiesRef","entitiesPropsFactory","feature","initialValue","props","withEntities","defaultEntitiesRef","UIEntitiesRef","withUIEntities","deleteEntities","options","idsToRemove","newEntities","newIds","includes","Reflect","deleteProperty","deleteEntitiesByPredicate","reducer","length","deleteAllEntities","addEntities","prepend","asArray","throwIfEntityExists","throwIfDuplicateIdKey","addEntitiesFifo","limit","currentIds","normalizedEntities","newState","slice","total","idsRemove","forEach","Error","check","Set","has","add","setEntities","setEntitiesMap","Object","values","getAllEntities","map","getAllEntitiesApply","filterEntity","mapEntity","e","result","getEntity$1","getEntityByPredicate","hasEntity","getEntitiesIds","toModel","updater","updateEntities","updatedEntities","updateEntitiesByPredicate","updateAllEntities","upsertEntitiesById","creator","updatedEntitiesIds","newEntity","mergeUpdaterWithCreator","upsertEntities","entitiesArray","updatedIds","updateEntitiesIds","oldId","newId","oldIds","idProp","i","oldVal","newVal","oldEntity","updated","updatedStateIds","processedIds","currentId","j","moveEntity","fromIndex","toIndex","splice","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","done","then","apply","__generator","body","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","pop","__values","o","s","m","__read","r","ar","error","__spreadArray","to","from","pack","arguments","l","concat","__await","__asyncGenerator","asyncIterator","q","a","resume","settle","fulfill","shift","__asyncValues","createErrorClass","createImpl","_super","instance","stack","ctorFunc","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","err","toString","join","name","arrRemove","arr","item","index","indexOf","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","parent_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","teardown","_hasParent","_addParent","parent","_removeParent","EMPTY","empty","isSubscription","onUnhandledError","onStoppedNotification","undefined","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","setTimeout","handler","timeout","args","_i","delegate","clearTimeout","handle","reportUnhandledError","noop","COMPLETE_NOTIFICATION","createNotification","errorNotification","nextNotification","kind","errorContext","cb","isRoot","errorThrown","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","_next","_error","_complete","_bind","Function","bind","fn","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","defaultErrorHandler","notification","subscriber","observable","identity","x","pipe","fns","pipeFromArray","piped","input","reduce","prev","Observable","subscribe","_subscribe","lift","operator","source","isSubscriber","_trySubscribe","sink","promiseCtor","getPromiseCtor","operations","toPromise","isObserver","hasLift","operate","init","liftedSource","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","isArrayLike","isPromise","isInteropObservable","isAsyncIterable","obj","createInvalidObservableTypeError","getSymbolIterator","isIterable","readableStreamLikeToAsyncGenerator","readableStream","readableStreamLikeToAsyncGenerator_1","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","fromInteropObservable","fromArrayLike","fromPromise","fromAsyncIterable","fromIterable","fromReadableStreamLike","obs","array","promise","iterable","iterable_1","iterable_1_1","asyncIterable","process","catch","asyncIterable_1","asyncIterable_1_1","project","distinctUntilChanged","comparator","keySelector","defaultCompare","previousKey","first","currentKey","switchMap","resultSelector","innerSubscriber","isComplete","checkComplete","innerIndex","outerIndex","innerValue","untilEntitiesChanges","key","current","selectAllEntities","selectEntities","selectAllEntitiesApply","selectEntity","getEntity","selectEntityByPredicate","selectFirst","selectLast","selectMany","filtered","selectManyByPredicate","filteredEntities","selectEntitiesCount","selectEntitiesCountByPredicate","getEntitiesCount","getEntitiesCountByPredicate","unionEntities","UIEntities","unionEntitiesAsMap","fromEntries","selectActiveId","setActiveId","withActiveId","resetActiveId","getActiveId","selectActiveEntity","getActiveEntity","setActiveIds","resetActiveIds","withActiveIds","selectActiveIds","toggleActiveIds","removeActiveIds","addActiveIds","getActiveIds","selectActiveEntities","getActiveEntities","EMPTY_SUBSCRIPTION","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","_c","observer","defineProperty","enumerable","configurable","_checkFinalizedStatuses","_innerSubscribe","asObservable","BehaviorSubject","_value","getValue","subscription","isScheduler","schedule","last","popResultSelector","popScheduler","executeSchedule","parentSubscription","scheduler","work","delay","repeat","scheduleSubscription","observeOn","subscribeOn","scheduleObservable","schedulePromise","scheduleArray","scheduleIterable","iterator$1","scheduleAsyncIterable","scheduleReadableStreamLike","scheduled","of","throwError","errorOrErrorFactory","errorFactory","isArray$1","callOrApply","mapOneOrManyArgs","getPrototypeOf","objectProto","getKeys","keys","argsArgArrayOrObject","first_1","isPOJO","createObject","combineLatest","observables","combineLatestInit","valueTransform","maybeSchedule","active","remainingFirstValues","_loop_1","hasFirstValue","execute","defer","observableFactory","take","count","seen","distinctUntilKeyChanged","compare","tap","tapObserver","isUnsub","finalize","withRequestsCache","requestsCache","selectRequestCache","getRequestCache","updateRequestsCache","requestsOrKeys","normalized","acc","data","ttl","timestamp","Date","now","updateRequestCache","cacheValue","selectIsRequestCached","isRequestCached","type","some","k","skipWhileCached","store","query","returnSource","createRequestsCacheOperator","clearRequestsCache","withRequestsStatus","requestsStatus","updateRequestsStatus","resolveStatus","newStatus","updateRequestStatus","getRequestStatus","selectRequestStatus","base","groupKey","selectIsRequestPending","trackRequestStatus","update","mapError","createRequestsStatusOperator","initializeAsPending","clearRequestsStatus","createRequestDataSource","params","data$","dataKey","requestStatusOptions","requestKey","idleAsPending","setSuccess","setCached","combine","status","loading","initialResult","isError","isLoading","isSuccess","fetchStatus","successfulRequestsCount","getSource","resolveKey","newSource","set","JSON","stringify","emitters","Map","getRequestResult","initialStatus","updateRequestResult","newValue","hasChange","currentResult","clearRequestsResult","clear","deleteRequestResult","delete","resetStaleTime","staleTime","joinRequestResult","trackRequestResult","stale","preventConcurrentRequest","cacheResponseData","skipCache","responseData","requestResult","sourceData","errorUpdatedAt","newResult","dataUpdatedAt","additionalKeys","mainKey","filterSuccess","filterError","mapResultData","mapFn"],"sourceRoot":"webpack:///","x_google_ignoreList":[1,2]}